# Feature Landscape

**Domain:** Desktop Git Client -- Extension System, GitHub Integration, Toolbar UX
**Researched:** 2026-02-09

---

## Table Stakes

Features users expect from these capabilities. Missing = feature feels incomplete.

### Extension System

| Feature | Why Expected | Complexity | Notes |
|---------|--------------|------------|-------|
| Install extension from local path | Users need to test/develop extensions | Low | Scan `.flowforge/extensions/{name}/` directory |
| Install extension from GitHub URL | Primary distribution channel | Med | Clone repo into extensions dir, validate manifest |
| Extension manifest validation | Must reject malformed extensions gracefully | Low | JSON parse + type guard, <15 fields |
| Extension enable/disable toggle | Users want to control what's active | Low | Boolean in preferences store, skip loading on startup |
| Extension lifecycle (activate/deactivate) | Clean resource management | Med | `activate()` called on enable, `deactivate()` on disable/uninstall |
| Extension settings UI | Extensions need configuration | Med | Manifest declares settings schema, render in Settings blade |
| Extension list in Settings | Users need to see what's installed | Low | New section in existing Settings blade |

### GitHub Integration

| Feature | Why Expected | Complexity | Notes |
|---------|--------------|------------|-------|
| OAuth Device Flow login | Authentication is prerequisite | Med | Show code + URL, poll for token, store securely |
| View open PRs for current repo | Primary use case for GitHub integration | Low | REST API call, display in blade |
| View PR details (description, reviews, checks) | Users need to see PR context | Med | GraphQL for nested data, render markdown |
| View issues for current repo | Natural complement to PRs | Low | REST API call, similar blade to PRs |
| Create PR from current branch | Core workflow action | Med | Form blade: title, body, base branch, draft toggle |
| Sign out / token revocation | Users must be able to disconnect | Low | Delete keyring entry, clear Zustand state |
| Token refresh handling | Tokens expire (GitHub App tokens) | Med | Background refresh, re-prompt if refresh fails |

### Toolbar UX

| Feature | Why Expected | Complexity | Notes |
|---------|--------------|------------|-------|
| Overflow menu for toolbar items | Current header has 10+ buttons that don't fit narrow windows | Med | ResizeObserver + measurement hook |
| Show/hide individual toolbar items | Users have different workflows | Low | Preferences store, right-click context menu |
| Toolbar item grouping | Related actions should cluster visually | Low | CSS separators between groups |

---

## Differentiators

Features that set FlowForge apart. Not expected, but valued.

| Feature | Value Proposition | Complexity | Notes |
|---------|-------------------|------------|-------|
| Extension contributes blade types | Extensions can add entirely new views (PR blade, issue blade) | Med | Already have blade registry pattern. Extensions use same API. |
| Extension contributes commands | Extensions add to command palette seamlessly | Low | Already have command registry. Extensions call `registerCommand()`. |
| Extension contributes toolbar items | Extensions can place buttons in the toolbar | Med | Toolbar items become data-driven (registered, not hardcoded). |
| PR/Issue inline in topology graph | Show PR status badges on branches in the graph | High | Requires correlating GitHub PR data with local branch topology. |
| Auto-detect GitHub remote | Skip manual configuration when repo has github.com remote | Low | Parse `origin` URL, extract owner/repo. Already have `get_remotes()` command. |
| Keyboard-first GitHub workflow | Create PR, review PR, merge via keyboard shortcuts | Low | Leverage existing hotkeys + command palette infrastructure. |
| Extension marketplace/discovery | Browse available extensions | High | Defer to v2.0+. First-party extensions only for v1.5. |
| Drag-to-reorder toolbar | Custom toolbar layout | Med | Possible future enhancement. Show/hide is sufficient for v1.5. |

---

## Anti-Features

Features to explicitly NOT build.

| Anti-Feature | Why Avoid | What to Do Instead |
|--------------|-----------|-------------------|
| Full GitHub code review in-app | Massive scope, competes with GitHub web UI | Link to PR on GitHub for detailed review. Show summary in-app. |
| Extension sandboxing via iframes | Premature complexity for first-party-only extensions | Use constrained ExtensionAPI object. Add sandboxing when third-party extensions ship. |
| GitHub Actions integration | Different problem domain, huge API surface | Focus on PR/issue workflows. Actions status can show as PR check badges. |
| Multi-provider support (GitLab, Bitbucket) | Fragments focus. Ship GitHub well first. | Design extension API generically so other providers can be added as extensions later. |
| GitHub Copilot integration | Entirely different product category | Out of scope. |
| CI/CD pipeline management | Not a Git client concern | Show build status from PR checks, don't manage pipelines. |
| Extension auto-update | Complex versioning, network, rollback concerns | Manual update via reinstall for v1.5. |
| Custom toolbar icon uploads | UI complexity for marginal value | Extensions provide Lucide icon names in manifest. |

---

## Feature Dependencies

```
Extension Manifest Format  -->  Extension Loader  -->  Extension Lifecycle
                                                   -->  Extension Registry (blade + command)
                                                   -->  Extension Settings UI

OAuth Device Flow (Rust)    -->  Token Storage (keyring)  -->  Octokit Client Setup
                                                          -->  GitHub Store (Zustand)

Auto-detect GitHub Remote   -->  GitHub Store  -->  PR List Blade
                                               -->  Issue List Blade
                                               -->  Create PR Blade

Toolbar Data Model          -->  Overflow Hook (useOverflowToolbar)
                            -->  Toolbar Preferences (show/hide)
                            -->  Extension Toolbar Items
```

---

## MVP Recommendation

### Must Ship (v1.5.0)

1. **Extension manifest + loader** -- Foundation for everything else
2. **Extension lifecycle (activate/deactivate/enable/disable)** -- Table stakes
3. **OAuth Device Flow** -- Prerequisite for GitHub features
4. **Secure token storage** -- Security requirement
5. **PR list blade** -- Primary value of GitHub integration
6. **Issue list blade** -- Natural complement
7. **Toolbar overflow menu** -- Current header breaks at narrow widths
8. **Toolbar show/hide** -- Respects user workflow preferences

### Should Ship (v1.5.0 if time allows)

9. **Create PR from branch** -- High-value workflow action
10. **Extension settings UI** -- Needed for GitHub extension configuration
11. **Extension contributes toolbar items** -- Proves extension point design

### Defer to v1.6.0+

- PR/Issue badges in topology graph (High complexity, needs graph rework)
- Extension marketplace/discovery (Needs infrastructure)
- Drag-to-reorder toolbar (Nice-to-have)
- Extension auto-update (Complex)

---

## Sources

- [GitHub OAuth Device Flow](https://docs.github.com/en/apps/oauth-apps/building-oauth-apps/authorizing-oauth-apps)
- [VS Code Extension Contribution Points](https://code.visualstudio.com/api/references/contribution-points) -- Pattern reference for extension manifest design
- [PatternFly Overflow Menu](https://www.patternfly.org/components/overflow-menu/) -- UX pattern reference
- [ResizeObserver-based overflow menu](https://dev.to/shubhamreacts/how-to-implement-a-collapsible-overflow-menu-in-react-5cn8)
