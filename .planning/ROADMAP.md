# Roadmap: FlowForge

## Milestones

- âœ… **v1.0 MVP** â€” Phases 1-10 (shipped 2026-02-04) -> [archive](milestones/v1.0.0-ROADMAP.md)
- âœ… **v1.1.0 Usability** â€” Phases 11-15 (shipped 2026-02-06) -> [archive](milestones/v1.1.0-ROADMAP.md)
- âœ… **v1.2.0 Bugfixing & Polish** â€” Phases 16-19 (shipped 2026-02-07) -> [archive](milestones/v1.2.0-ROADMAP.md)
- âœ… **v1.3.0 Blades Blades Blades** â€” Phases 20-24 (shipped 2026-02-08) -> [archive](milestones/v1.3.0-ROADMAP.md)
- âœ… **v1.4.0 Architecture & Navigation Overhaul** â€” Phases 25-30 (shipped 2026-02-09) -> [archive](milestones/v1.4.0-ROADMAP.md)
- âœ… **v1.5.0 GitHub Extension** â€” Phases 31-36 (shipped 2026-02-10) -> [archive](milestones/v1.5.0-ROADMAP.md)
- âœ… **v1.6.0 Refactor to Extensions** â€” Phases 37-42 (shipped 2026-02-11) -> [archive](milestones/v1.6.0-ROADMAP.md)
- âœ… **v1.7.0 Extensions Everywhere** â€” Phases 43-47 (shipped 2026-02-11) -> [archive](milestones/v1.7.0-ROADMAP.md)
- âœ… **v1.8.0 UI/UX Enhancements** â€” Phases 48-53 (shipped 2026-02-15) -> [archive](milestones/v1.8.0-ROADMAP.md)
- ðŸš§ **v1.9.0 Architecture Extraction & Monorepo** â€” Phases 54-59 (in progress)

## Phases

<details>
<summary>âœ… v1.0.0 MVP (Phases 1-10) â€” SHIPPED 2026-02-04</summary>

- [x] Phase 1: Foundation (3/3 plans)
- [x] Phase 3: Core Git & Branches (6/6 plans)
- [x] Phase 4: Gitflow State Machine (5/5 plans)
- [x] Phase 5: Topology Visualization (5/5 plans)
- [x] Phase 6: Conventional Commits (4/4 plans)
- [x] Phase 6.1: Catppuccin Mocha File Icons (2/2 plans)
- [x] Phase 6.2: UX/UI Enhancements (9/9 plans)
- [x] Phase 7: Worktree Management (4/4 plans)
- [x] Phase 8: Polish & Performance (6/6 plans)

</details>

<details>
<summary>âœ… v1.1.0 Usability (Phases 11-15) â€” SHIPPED 2026-02-06</summary>

- [x] Phase 11: Foundation (5/5 plans)
- [x] Phase 12: Workflows (6/6 plans)
- [x] Phase 13: Navigation (5/5 plans)
- [x] Phase 14: UI Polish (4/4 plans)

</details>

<details>
<summary>âœ… v1.2.0 Bugfixing & Polish (Phases 16-19) â€” SHIPPED 2026-02-07</summary>

- [x] Phase 16: Quick Fixes & Visual Polish (3/3 plans)
- [x] Phase 17: Hierarchical View & Commit Enhancements (4/4 plans)
- [x] Phase 18: Command Palette & Discoverability (4/4 plans)
- [x] Phase 19: Settings, Onboarding & File Icons (6/6 plans)

</details>

<details>
<summary>âœ… v1.3.0 Blades Blades Blades (Phases 20-24) â€” SHIPPED 2026-02-08</summary>

- [x] Phase 20: Blade Infrastructure & Modal Migration (8/8 plans)
- [x] Phase 20.1: Blade Extensibility Refactoring (6/6 plans)
- [x] Phase 21: Two-Column Staging & Inline Diff (5/5 plans)
- [x] Phase 22: New Content Blades (26/26 plans)
- [x] Phase 23: Branch Management (7/7 plans)
- [x] Phase 24: Code Review Guidance & Documentation (4/4 plans)

</details>

<details>
<summary>âœ… v1.4.0 Architecture & Navigation Overhaul (Phases 25-30) â€” SHIPPED 2026-02-09</summary>

- [x] Phase 25: Test Infrastructure Foundation (3/3 plans)
- [x] Phase 26: XState Navigation FSM (4/4 plans)
- [x] Phase 27: Init Repo Blade (4/4 plans)
- [x] Phase 28: Conventional Commit Blade (5/5 plans)
- [x] Phase 29: Blade-Centric File Structure (6/6 plans)
- [x] Phase 30: Store Consolidation & Tech Debt (7/7 plans)

</details>

<details>
<summary>âœ… v1.5.0 GitHub Extension (Phases 31-36) â€” SHIPPED 2026-02-10</summary>

- [x] Phase 31: Security Hardening (2/2 plans)
- [x] Phase 32: Toolbar Overhaul (2/2 plans)
- [x] Phase 33: Extension System Foundation (3/3 plans)
- [x] Phase 34: GitHub Authentication (3/3 plans)
- [x] Phase 35: GitHub Read Operations (3/3 plans)
- [x] Phase 36: GitHub Write Operations & Extension Manager (3/3 plans)

</details>

<details>
<summary>âœ… v1.6.0 Refactor to Extensions (Phases 37-42) â€” SHIPPED 2026-02-11</summary>

- [x] Phase 37: Extension Platform Foundation (3/3 plans) â€” completed 2026-02-10
- [x] Phase 38: Content Viewer Extraction (2/2 plans) â€” completed 2026-02-10
- [x] Phase 39: Conventional Commits Extraction (3/3 plans) â€” completed 2026-02-10
- [x] Phase 40: Gitflow Extraction (2/2 plans) â€” completed 2026-02-10
- [x] Phase 41: Sandbox & Polish (5/5 plans) â€” completed 2026-02-11
- [x] Phase 42: Audit Tech Debt Cleanup (1/1 plan) â€” completed 2026-02-11

</details>

<details>
<summary>âœ… v1.7.0 Extensions Everywhere (Phases 43-47) â€” SHIPPED 2026-02-11</summary>

- [x] Phase 43: Infrastructure Prep (3/3 plans) â€” completed 2026-02-11
- [x] Phase 44: Worktree Extraction (2/2 plans) â€” completed 2026-02-11
- [x] Phase 45: Init Repo Extraction (2/2 plans) â€” completed 2026-02-11
- [x] Phase 46: Topology Extraction (3/3 plans) â€” completed 2026-02-11
- [x] Phase 47: Cleanup & Verification (3/3 plans) â€” completed 2026-02-11

</details>

<details>
<summary>âœ… v1.8.0 UI/UX Enhancements (Phases 48-53) â€” SHIPPED 2026-02-15</summary>

- [x] Phase 48: Diff Viewer Foundations (2/2 plans) â€” completed 2026-02-12
- [x] Phase 49: Inline Conflict Resolution (3/3 plans) â€” completed 2026-02-12
- [x] Phase 50: Hunk & Line Staging (3/3 plans) â€” completed 2026-02-12
- [x] Phase 51: Git Insights Dashboard (5/5 plans) â€” completed 2026-02-14
- [x] Phase 52: Visualization & Welcome Polish (3/3 plans) â€” completed 2026-02-14
- [x] Phase 53: Workspace Layout Presets (2/2 plans) â€” completed 2026-02-14

</details>

### v1.9.0 Architecture Extraction & Monorepo

**Milestone Goal:** Extract FlowForge's framework into reusable internal packages within a pnpm monorepo, validated by a second app that proves the framework works independently.

- [ ] **Phase 54: Monorepo Scaffolding** - pnpm workspaces, Turborepo, shared configs, app relocation to apps/flowforge/
- [ ] **Phase 55: Pre-Extraction Refactoring** - Fix circular deps, migrate path aliases, relocate UI primitives, accessibility tech debt
- [ ] **Phase 56: Leaf Package Extraction** - @flowforge/stores, @flowforge/theme, @flowforge/test-utils, persistence adapter
- [ ] **Phase 57: Middle Layer Extraction** - @flowforge/command-palette, @flowforge/layout with XState FSM and blade navigation
- [ ] **Phase 58: Top Layer Extraction** - @flowforge/extension-system, @flowforge/core meta-package, framework dir deletion
- [ ] **Phase 59: Second App Validation** - apps/skeleton/ minimal Tauri app proving framework reusability

## Phase Details

### Phase 54: Monorepo Scaffolding
**Goal**: FlowForge builds and runs from a pnpm monorepo structure with zero functional regressions
**Depends on**: Phase 53
**Requirements**: MONO-01, MONO-02, MONO-03, MONO-04, MONO-05, MONO-06, MONO-07, MONO-08
**Success Criteria** (what must be TRUE):
  1. Running `pnpm install` from workspace root resolves all dependencies across apps/ and packages/ directories
  2. Running `pnpm turbo build` builds the app and all shared config packages with caching
  3. FlowForge app at `apps/flowforge/` launches and all existing features work identically to pre-monorepo state
  4. Running `pnpm tauri build` from workspace root produces a working desktop binary
  5. Running `pnpm test` from workspace root executes all 295+ tests and they pass
**Plans**: TBD
**Research**: Skip â€” pnpm workspace setup is well-documented

### Phase 55: Pre-Extraction Refactoring
**Goal**: Codebase has zero circular dependencies and all cross-layer imports use package-name paths, making extraction safe
**Depends on**: Phase 54
**Requirements**: REFAC-01, REFAC-02, REFAC-03, REFAC-04, REFAC-05, REFAC-06, DEBT-01, DEBT-02
**Success Criteria** (what must be TRUE):
  1. Running `madge --circular src/` reports zero circular dependency violations
  2. Zero imports use `@/` path alias for cross-layer references â€” all use `@flowforge/*` package-name paths
  3. UI primitives (Button, Dialog, etc.) used by framework code live in the framework layer, not core
  4. Module augmentation for blade type definitions works with package-name imports (verified by typecheck)
  5. All 295+ existing tests pass with no regressions after the migration
**Plans**: TBD
**Research**: Skip â€” pure refactoring based on known violations

### Phase 56: Leaf Package Extraction
**Goal**: Stores, theme, and test utilities exist as independent packages consumed by the app via workspace protocol
**Depends on**: Phase 55
**Requirements**: STOR-01, STOR-02, STOR-03, STOR-04, STOR-05, STOR-06, STOR-07, STOR-08, THEME-01, THEME-02, THEME-03, THEME-04, THEME-05, THEME-06, TEST-01, TEST-02, TEST-03, TEST-04, TEST-05, TEST-06
**Success Criteria** (what must be TRUE):
  1. `@flowforge/stores` package exports all store factories and the app imports them via `@flowforge/stores` â€” no direct `src/framework/stores` imports remain
  2. Persistence is injected at app startup via `configurePersistence(createTauriAdapter())` â€” framework code has zero Tauri imports
  3. `@flowforge/theme` package provides CSS tokens, animations, cn() utility, and ThemeProvider â€” all themed components render correctly with no unstyled flash
  4. `@flowforge/test-utils` package provides Zustand auto-reset mock, Tauri API mocks, and common setup â€” each package has its own vitest.config.ts using shared test-utils
  5. `pnpm ls zustand` shows exactly one resolved version across the entire workspace (no duplicate instances)
**Plans**: TBD
**Research**: Skip â€” dependency injection pattern already exists in codebase

### Phase 57: Middle Layer Extraction
**Goal**: Command palette and layout systems exist as packages depending only on leaf packages, with blade navigation and XState FSM fully functional
**Depends on**: Phase 56
**Requirements**: CMD-01, CMD-02, CMD-03, CMD-04, LAYOUT-01, LAYOUT-02, LAYOUT-03, LAYOUT-04, LAYOUT-05, LAYOUT-06, LAYOUT-07, LAYOUT-08
**Success Criteria** (what must be TRUE):
  1. `@flowforge/command-palette` provides command registry, palette UI with fuzzy search, and keyboard shortcuts â€” depends only on `@flowforge/stores`
  2. `@flowforge/layout` provides blade navigation with XState FSM that maintains all existing state transitions and guards
  3. Blade push/pop/replace/reset operations work correctly when layout package is consumed via workspace protocol
  4. TypeScript module augmentation for blade type definitions works across package boundaries (app-defined blade types are recognized by layout package)
  5. Sidebar panels, workflow registry with presets, navigation guards, and resizable panel layouts all function correctly from the extracted packages
**Plans**: TBD
**Research**: Skip â€” XState FSM has comprehensive tests, registry pattern proven

### Phase 58: Top Layer Extraction
**Goal**: Extension system and core meta-package complete the extraction, src/framework/ is fully deleted, and all 15 built-in extensions function correctly
**Depends on**: Phase 57
**Requirements**: EXT-01, EXT-02, EXT-03, EXT-04, EXT-05, EXT-06, EXT-07, EXT-08, EXT-09, EXT-10, CORE-01, CORE-02, CORE-03, DEBT-03, DEBT-04
**Success Criteria** (what must be TRUE):
  1. `@flowforge/extension-system` exports ExtensionHost with lifecycle management, ExtensionAPI facade, and all registries (toolbar, context menu, status bar) â€” platform-specific APIs injected via DI
  2. All 15 built-in FlowForge extensions activate, render their blades, and respond to user actions correctly when loaded from packages
  3. `@flowforge/core` meta-package re-exports all framework packages â€” importing `@flowforge/core` provides the full framework API
  4. Tree-shaking works: importing a single sub-package (e.g., `@flowforge/stores`) does not bundle the entire framework
  5. `src/framework/` directory is fully deleted â€” all framework code lives exclusively in packages/
**Plans**: TBD
**Research**: Skip â€” DI pattern already proven via configureExtensionHost

### Phase 59: Second App Validation
**Goal**: A minimal second Tauri app proves the framework is genuinely reusable by building a working application from @flowforge/core
**Depends on**: Phase 58
**Requirements**: SKEL-01, SKEL-02, SKEL-03, SKEL-04, SKEL-05
**Success Criteria** (what must be TRUE):
  1. `apps/skeleton/` contains a minimal Tauri app that imports `@flowforge/core` and boots via `createApp()` with a custom persistence adapter
  2. Skeleton app renders at least one blade type and navigates between blades using the framework's navigation system
  3. Skeleton app initializes ExtensionHost and activates at least one sample extension that registers toolbar items and context menus
  4. Running `pnpm tauri build` in the skeleton app workspace produces a working desktop binary
  5. Skeleton app has zero imports from `apps/flowforge/` â€” it depends only on framework packages
**Plans**: TBD
**Research**: May need research for Tauri multi-app workspace configuration patterns

## Progress

| Phase | Milestone | Plans Complete | Status | Completed |
|-------|-----------|----------------|--------|-----------|
| 1-8 | v1.0.0 | 44/44 | Complete | 2026-02-04 |
| 11-14 | v1.1.0 | 20/20 | Complete | 2026-02-06 |
| 16-19 | v1.2.0 | 17/17 | Complete | 2026-02-07 |
| 20-24 | v1.3.0 | 56/56 | Complete | 2026-02-08 |
| 25-30 | v1.4.0 | 29/29 | Complete | 2026-02-09 |
| 31-36 | v1.5.0 | 16/16 | Complete | 2026-02-10 |
| 37-42 | v1.6.0 | 16/16 | Complete | 2026-02-11 |
| 43-47 | v1.7.0 | 13/13 | Complete | 2026-02-11 |
| 48-53 | v1.8.0 | 18/18 | Complete | 2026-02-15 |
| 54. Monorepo Scaffolding | v1.9.0 | 0/? | Not started | - |
| 55. Pre-Extraction Refactoring | v1.9.0 | 0/? | Not started | - |
| 56. Leaf Package Extraction | v1.9.0 | 0/? | Not started | - |
| 57. Middle Layer Extraction | v1.9.0 | 0/? | Not started | - |
| 58. Top Layer Extraction | v1.9.0 | 0/? | Not started | - |
| 59. Second App Validation | v1.9.0 | 0/? | Not started | - |

---
*Last updated: 2026-02-18 â€” v1.9.0 Architecture Extraction & Monorepo roadmap created*
