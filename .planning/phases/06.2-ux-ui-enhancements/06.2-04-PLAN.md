---
phase: 06.2-ux-ui-enhancements
plan: 04
type: execute
wave: 2
depends_on: ["06.2-02"]
files_modified:
  - package.json
  - src/lib/animations.ts
  - src/components/animations/AnimatedList.tsx
  - src/components/animations/FadeIn.tsx
  - src/components/animations/index.ts
autonomous: true

must_haves:
  truths:
    - "Stagger animations available for lists (items animate in sequence)"
    - "Fade-in animations available for individual elements"
    - "Animation utilities are reusable across components"
  artifacts:
    - path: "src/lib/animations.ts"
      provides: "Framer Motion variant definitions"
      exports: ["staggerContainer", "staggerItem", "fadeIn"]
    - path: "src/components/animations/AnimatedList.tsx"
      provides: "List component with stagger animation"
      exports: ["AnimatedList"]
  key_links:
    - from: "src/components/animations/AnimatedList.tsx"
      to: "src/lib/animations.ts"
      via: "variant imports"
      pattern: "import.*animations"
---

<objective>
Set up framer-motion animation foundation with reusable animation variants and components.

Purpose: Enable micro-interactions throughout the app with consistent, performant animations.
Output: Animation library with stagger list, fade-in, and other reusable animation patterns.
</objective>

<execution_context>
@/Users/phmatray/.claude/get-shit-done/workflows/execute-plan.md
@/Users/phmatray/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06.2-ux-ui-enhancements/06.2-RESEARCH.md
@.planning/phases/06.2-ux-ui-enhancements/06.2-02-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install framer-motion and create animation variants</name>
  <files>package.json, src/lib/animations.ts</files>
  <action>
1. Install framer-motion:
```bash
npm install framer-motion
```

2. Create src/lib/animations.ts with reusable variants:
```typescript
import type { Variants, Transition } from "framer-motion";

// Standard transitions
export const springTransition: Transition = {
  type: "spring",
  stiffness: 500,
  damping: 30,
};

export const easeTransition: Transition = {
  type: "tween",
  ease: "easeOut",
  duration: 0.2,
};

// Stagger container - orchestrates child animations
export const staggerContainer: Variants = {
  hidden: { opacity: 0 },
  show: {
    opacity: 1,
    transition: {
      staggerChildren: 0.05,
      delayChildren: 0.1,
    },
  },
};

// Stagger item - used by children of stagger container
export const staggerItem: Variants = {
  hidden: { opacity: 0, y: 8 },
  show: {
    opacity: 1,
    y: 0,
    transition: easeTransition,
  },
};

// Fade in from bottom
export const fadeInUp: Variants = {
  hidden: { opacity: 0, y: 20 },
  show: {
    opacity: 1,
    y: 0,
    transition: { duration: 0.3, ease: "easeOut" },
  },
};

// Fade in scale
export const fadeInScale: Variants = {
  hidden: { opacity: 0, scale: 0.95 },
  show: {
    opacity: 1,
    scale: 1,
    transition: { duration: 0.2, ease: "easeOut" },
  },
};

// Simple fade
export const fadeIn: Variants = {
  hidden: { opacity: 0 },
  show: {
    opacity: 1,
    transition: { duration: 0.2 },
  },
};

// Slide in from left (for sidebar items)
export const slideInLeft: Variants = {
  hidden: { opacity: 0, x: -10 },
  show: {
    opacity: 1,
    x: 0,
    transition: easeTransition,
  },
};

// Tab content transition
export const tabContent: Variants = {
  hidden: { opacity: 0, x: 10 },
  show: {
    opacity: 1,
    x: 0,
    transition: { duration: 0.15, ease: "easeOut" },
  },
  exit: {
    opacity: 0,
    x: -10,
    transition: { duration: 0.1, ease: "easeIn" },
  },
};
```
  </action>
  <verify>
File exists: src/lib/animations.ts with all variants exported.
TypeScript compiles without errors: `npx tsc --noEmit`
  </verify>
  <done>Framer-motion installed, animation variants defined in src/lib/animations.ts.</done>
</task>

<task type="auto">
  <name>Task 2: Create reusable animation components</name>
  <files>src/components/animations/AnimatedList.tsx, src/components/animations/FadeIn.tsx, src/components/animations/index.ts</files>
  <action>
Create reusable animation wrapper components.

1. Create src/components/animations/AnimatedList.tsx:
```tsx
import { motion } from "framer-motion";
import type { ReactNode } from "react";
import { staggerContainer, staggerItem } from "../../lib/animations";

interface AnimatedListProps {
  children: ReactNode;
  className?: string;
  /** Limit stagger to first N items for performance */
  staggerLimit?: number;
}

export function AnimatedList({
  children,
  className,
  staggerLimit = 15,
}: AnimatedListProps) {
  return (
    <motion.div
      variants={staggerContainer}
      initial="hidden"
      animate="show"
      className={className}
    >
      {children}
    </motion.div>
  );
}

interface AnimatedListItemProps {
  children: ReactNode;
  className?: string;
  /** Index of item - items beyond staggerLimit won't animate */
  index?: number;
  staggerLimit?: number;
}

export function AnimatedListItem({
  children,
  className,
  index = 0,
  staggerLimit = 15,
}: AnimatedListItemProps) {
  // Skip animation for items beyond the limit (performance)
  if (index >= staggerLimit) {
    return <div className={className}>{children}</div>;
  }

  return (
    <motion.div variants={staggerItem} className={className}>
      {children}
    </motion.div>
  );
}
```

2. Create src/components/animations/FadeIn.tsx:
```tsx
import { motion } from "framer-motion";
import type { ReactNode } from "react";
import { fadeIn, fadeInUp, fadeInScale } from "../../lib/animations";

interface FadeInProps {
  children: ReactNode;
  className?: string;
  variant?: "default" | "up" | "scale";
  delay?: number;
}

export function FadeIn({
  children,
  className,
  variant = "default",
  delay = 0,
}: FadeInProps) {
  const variants = {
    default: fadeIn,
    up: fadeInUp,
    scale: fadeInScale,
  };

  return (
    <motion.div
      variants={variants[variant]}
      initial="hidden"
      animate="show"
      className={className}
      style={{ animationDelay: `${delay}ms` }}
    >
      {children}
    </motion.div>
  );
}
```

3. Create src/components/animations/index.ts:
```tsx
export { AnimatedList, AnimatedListItem } from "./AnimatedList";
export { FadeIn } from "./FadeIn";
```
  </action>
  <verify>
1. Files exist:
   - src/components/animations/AnimatedList.tsx
   - src/components/animations/FadeIn.tsx
   - src/components/animations/index.ts
2. TypeScript compiles: `npx tsc --noEmit`
3. Can import: `import { AnimatedList, FadeIn } from "./components/animations"`
  </verify>
  <done>Reusable animation components created (AnimatedList, AnimatedListItem, FadeIn).</done>
</task>

</tasks>

<verification>
1. `npm run tauri dev` - app launches without errors
2. TypeScript compiles without errors
3. Animation variants importable from src/lib/animations.ts
4. Animation components importable from src/components/animations
5. Build succeeds: `npm run build`
</verification>

<success_criteria>
- framer-motion installed and working
- Animation variants defined in src/lib/animations.ts
- Reusable AnimatedList and FadeIn components ready for use
- Components respect staggerLimit for performance
</success_criteria>

<output>
After completion, create `.planning/phases/06.2-ux-ui-enhancements/06.2-04-SUMMARY.md`
</output>
