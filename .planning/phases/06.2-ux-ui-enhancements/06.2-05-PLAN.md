---
phase: 06.2-ux-ui-enhancements
plan: 05
type: execute
wave: 3
depends_on: ["06.2-01", "06.2-02", "06.2-04"]
files_modified:
  - src/components/WelcomeView.tsx
  - src/components/welcome/AnimatedGradientBg.tsx
  - src/components/welcome/index.ts
autonomous: true

must_haves:
  truths:
    - "Welcome view has animated gradient background with Catppuccin colors"
    - "Welcome content fades in with staggered animation"
    - "Drag-and-drop overlay maintains visual consistency with new design"
  artifacts:
    - path: "src/components/welcome/AnimatedGradientBg.tsx"
      provides: "Animated gradient background component"
      exports: ["AnimatedGradientBg"]
    - path: "src/components/WelcomeView.tsx"
      provides: "Redesigned welcome view with animations"
      contains: "AnimatedGradientBg"
  key_links:
    - from: "src/components/WelcomeView.tsx"
      to: "src/components/welcome/AnimatedGradientBg.tsx"
      via: "component import"
      pattern: "import.*AnimatedGradientBg"
---

<objective>
Redesign the welcome view with animated gradient background, forge aesthetic, and staggered entrance animations.

Purpose: Create a memorable first impression that communicates FlowForge's identity as a premium developer tool.
Output: Visually striking welcome view with smooth animations and Catppuccin-themed gradient.
</objective>

<execution_context>
@/Users/phmatray/.claude/get-shit-done/workflows/execute-plan.md
@/Users/phmatray/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06.2-ux-ui-enhancements/06.2-RESEARCH.md
@.planning/phases/06.2-ux-ui-enhancements/06.2-01-SUMMARY.md
@.planning/phases/06.2-ux-ui-enhancements/06.2-02-SUMMARY.md
@.planning/phases/06.2-ux-ui-enhancements/06.2-04-SUMMARY.md
@src/components/WelcomeView.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create animated gradient background component</name>
  <files>src/components/welcome/AnimatedGradientBg.tsx, src/components/welcome/index.ts</files>
  <action>
Create the animated gradient background component.

1. Create src/components/welcome/AnimatedGradientBg.tsx:
```tsx
import { motion } from "framer-motion";

export function AnimatedGradientBg() {
  return (
    <div className="absolute inset-0 overflow-hidden">
      {/* Base gradient */}
      <div className="absolute inset-0 bg-gradient-to-br from-ctp-base via-ctp-mantle to-ctp-crust" />
      
      {/* Animated gradient orbs */}
      <motion.div
        className="absolute -top-1/4 -left-1/4 w-1/2 h-1/2 rounded-full bg-ctp-blue/10 blur-3xl"
        animate={{
          x: [0, 100, 0],
          y: [0, 50, 0],
          scale: [1, 1.2, 1],
        }}
        transition={{
          duration: 20,
          repeat: Infinity,
          ease: "linear",
        }}
      />
      <motion.div
        className="absolute -bottom-1/4 -right-1/4 w-1/2 h-1/2 rounded-full bg-ctp-mauve/10 blur-3xl"
        animate={{
          x: [0, -100, 0],
          y: [0, -50, 0],
          scale: [1.2, 1, 1.2],
        }}
        transition={{
          duration: 25,
          repeat: Infinity,
          ease: "linear",
        }}
      />
      <motion.div
        className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1/3 h-1/3 rounded-full bg-ctp-peach/5 blur-3xl"
        animate={{
          scale: [1, 1.3, 1],
          opacity: [0.5, 0.8, 0.5],
        }}
        transition={{
          duration: 15,
          repeat: Infinity,
          ease: "linear",
        }}
      />
      
      {/* Subtle grid overlay for depth */}
      <div 
        className="absolute inset-0 opacity-[0.02]"
        style={{
          backgroundImage: `radial-gradient(circle at 1px 1px, currentColor 1px, transparent 0)`,
          backgroundSize: '40px 40px',
        }}
      />
    </div>
  );
}
```

2. Create src/components/welcome/index.ts:
```tsx
export { AnimatedGradientBg } from "./AnimatedGradientBg";
```
  </action>
  <verify>
Files exist:
- src/components/welcome/AnimatedGradientBg.tsx
- src/components/welcome/index.ts
TypeScript compiles: `npx tsc --noEmit`
  </verify>
  <done>Animated gradient background component created with Catppuccin-themed orbs.</done>
</task>

<task type="auto">
  <name>Task 2: Integrate gradient and animations into WelcomeView</name>
  <files>src/components/WelcomeView.tsx</files>
  <action>
Update WelcomeView to use the new animated background and entrance animations.

```tsx
import { open } from "@tauri-apps/plugin-dialog";
import { motion } from "framer-motion";
import { AlertCircle, FolderOpen, Flame } from "lucide-react"; // Add Flame icon
import { useCallback, useEffect, useState } from "react";
import { commands } from "../bindings";
import { useRecentRepos } from "../hooks/useRecentRepos";
import { fadeInUp, staggerContainer, staggerItem } from "../lib/animations";
import { useRepositoryStore } from "../stores/repository";
import { RecentRepos } from "./RecentRepos";
import { Button } from "./ui/button";
import { AnimatedGradientBg } from "./welcome";

export function WelcomeView() {
  // ... existing hooks and handlers unchanged ...

  return (
    <div
      className={`relative flex flex-col items-center justify-center min-h-[calc(100vh-3.5rem)] p-8 transition-colors ${
        isDragOver ? "bg-ctp-blue/10" : ""
      }`}
      onDragOver={handleDragOver}
      onDragLeave={handleDragLeave}
      onDrop={handleDrop}
    >
      {/* Animated background */}
      <AnimatedGradientBg />
      
      {/* Drag overlay */}
      {isDragOver && (
        <motion.div 
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          className="absolute inset-0 bg-ctp-blue/10 pointer-events-none flex items-center justify-center z-50"
        >
          <div className="text-xl font-medium text-ctp-blue bg-ctp-mantle/90 px-8 py-4 rounded-xl border border-ctp-blue/30">
            Drop folder to open repository
          </div>
        </motion.div>
      )}

      {/* Content with stagger animation */}
      <motion.div 
        variants={staggerContainer}
        initial="hidden"
        animate="show"
        className="relative z-10 max-w-md w-full space-y-8"
      >
        {/* Main action */}
        <motion.div variants={staggerItem} className="text-center space-y-4">
          <div className="inline-flex p-4 rounded-full bg-ctp-surface0/50 backdrop-blur-sm">
            <Flame className="w-12 h-12 text-ctp-peach" />
          </div>
          <h2 className="text-2xl font-bold text-ctp-text">Welcome to FlowForge</h2>
          <p className="text-ctp-subtext0">
            Open a repository to start forging your workflow.
          </p>
        </motion.div>
        
        <motion.div variants={staggerItem} className="flex flex-col items-center gap-3">
          <Button
            size="lg"
            onClick={openDialog}
            disabled={isLoading}
            className="gap-2"
          >
            <FolderOpen className="w-5 h-5" />
            {isLoading ? "Opening..." : "Open Repository"}
          </Button>
          <p className="text-xs text-ctp-subtext0">
            or press{" "}
            <kbd className="px-1.5 py-0.5 bg-ctp-surface0 rounded text-ctp-subtext1 font-mono text-xs">
              {navigator.platform.includes("Mac") ? "Cmd" : "Ctrl"}+O
            </kbd>
          </p>
        </motion.div>

        {/* Error display */}
        {error && (
          <motion.div 
            variants={fadeInUp}
            initial="hidden"
            animate="show"
            className="flex items-start gap-3 p-4 bg-ctp-red/10 border border-ctp-red/30 rounded-lg"
          >
            <AlertCircle className="w-5 h-5 text-ctp-red shrink-0 mt-0.5" />
            <div>
              <div className="text-sm font-medium text-ctp-red">
                Failed to open repository
              </div>
              <div className="text-sm text-ctp-red/80 mt-1">{error}</div>
            </div>
          </motion.div>
        )}

        {/* Recent repos */}
        <motion.div variants={staggerItem}>
          <RecentRepos />
        </motion.div>
      </motion.div>
    </div>
  );
}
```

Update colors throughout:
- bg-gray-950 -> removed (handled by gradient)
- bg-gray-800/50 -> bg-ctp-surface0/50
- text-blue-400 -> text-ctp-peach (accent)
- text-white -> text-ctp-text
- text-gray-400/500 -> text-ctp-subtext0
- bg-red-900/20 -> bg-ctp-red/10
- border-red-800/50 -> border-ctp-red/30
  </action>
  <verify>
1. Run `npm run tauri dev`
2. Welcome view shows animated gradient background with moving color orbs
3. Content fades in with stagger effect when app loads
4. Flame icon visible instead of folder icon
5. All text uses Catppuccin colors
6. Drag-and-drop overlay works correctly
7. Error state displays correctly with Catppuccin red
  </verify>
  <done>Welcome view redesigned with animated gradient background and staggered entrance animations.</done>
</task>

</tasks>

<verification>
1. `npm run tauri dev` - welcome view loads with animations
2. Gradient orbs animate smoothly without jank
3. Content stagger animation plays on load
4. Drag overlay works and matches new design
5. Error state displays correctly
6. Recent repos section animates in
7. Build succeeds: `npm run build`
</verification>

<success_criteria>
- Welcome view has animated gradient background
- Content uses staggered entrance animation
- All colors use Catppuccin palette
- Forge aesthetic with Flame icon and warm accent
- Drag-and-drop functionality preserved
</success_criteria>

<output>
After completion, create `.planning/phases/06.2-ux-ui-enhancements/06.2-05-SUMMARY.md`
</output>
