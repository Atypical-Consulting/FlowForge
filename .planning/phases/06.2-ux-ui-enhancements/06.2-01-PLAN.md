---
phase: 06.2-ux-ui-enhancements
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - src/index.css
  - src/App.tsx
  - src/components/Header.tsx
autonomous: true

must_haves:
  truths:
    - "JetBrains Mono font renders in all monospace contexts (code, commit messages, file paths)"
    - "Geist font renders as the default UI font throughout the application"
    - "No flash of unstyled text (FOUT) on application load"
  artifacts:
    - path: "src/index.css"
      provides: "Font imports and @theme configuration"
      contains: "@fontsource-variable"
    - path: "package.json"
      provides: "Font package dependencies"
      contains: "@fontsource-variable/jetbrains-mono"
  key_links:
    - from: "src/index.css"
      to: "tailwind @theme"
      via: "--font-sans and --font-mono CSS variables"
      pattern: "--font-sans.*Geist"
---

<objective>
Install and configure custom typography system with JetBrains Mono (monospace) and Geist (sans-serif) variable fonts.

Purpose: Establish developer-focused font pairing that distinguishes FlowForge from generic applications and improves code readability.
Output: Typography foundation ready for use throughout the application via Tailwind's font-sans and font-mono utilities.
</objective>

<execution_context>
@/Users/phmatray/.claude/get-shit-done/workflows/execute-plan.md
@/Users/phmatray/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06.2-ux-ui-enhancements/06.2-RESEARCH.md
@src/index.css
@package.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install font packages</name>
  <files>package.json</files>
  <action>
Install variable font packages from Fontsource:

```bash
npm install @fontsource-variable/jetbrains-mono @fontsource-variable/geist
```

These are variable fonts (lighter bundle than static, support weight customization).
  </action>
  <verify>
Run `npm ls @fontsource-variable/jetbrains-mono @fontsource-variable/geist` - both packages should be listed.
  </verify>
  <done>Font packages appear in package.json dependencies.</done>
</task>

<task type="auto">
  <name>Task 2: Configure typography in Tailwind CSS</name>
  <files>src/index.css</files>
  <action>
Update src/index.css to import fonts and configure @theme.

Add font imports immediately after the tailwindcss import:
```css
@import "@fontsource-variable/jetbrains-mono";
@import "@fontsource-variable/geist";
```

Add @theme block before the React Flow styles:
```css
@theme {
  --font-sans: "Geist Variable", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --font-mono: "JetBrains Mono Variable", ui-monospace, "SF Mono", "Monaco", "Cascadia Code", "Consolas", monospace;
}
```

This makes:
- `font-sans` (default body text) use Geist
- `font-mono` (code/technical) use JetBrains Mono

IMPORTANT: Preserve all existing CSS (React Flow styles, dialog animations).
  </action>
  <verify>
Run `npm run tauri dev`. Inspect any text element in DevTools - computed font-family should show "Geist Variable" for body text.
  </verify>
  <done>Fonts load without FOUT, Geist is the default UI font, JetBrains Mono available via font-mono class.</done>
</task>

<task type="auto">
  <name>Task 3: Apply font classes to appropriate contexts</name>
  <files>src/App.tsx, src/components/Header.tsx</files>
  <action>
Ensure fonts are applied correctly:

1. In src/App.tsx, add `font-sans` to root div className (makes intent explicit):
   - Current: `className="flex flex-col h-screen bg-gray-950 text-gray-100"`
   - Update: `className="flex flex-col h-screen bg-gray-950 text-gray-100 font-sans"`

2. In src/components/Header.tsx, add `font-mono` to branch name display:
   - Find the span with `text-sm text-white font-medium` showing `{status.branchName}`
   - Add `font-mono` class: `text-sm text-white font-medium font-mono`

The keyboard shortcut kbd in WelcomeView.tsx already uses font-mono.
The commit preview in ConventionalCommitForm.tsx already uses font-mono.
  </action>
  <verify>
1. Open app with `npm run tauri dev`
2. Verify branch name in header uses JetBrains Mono (check DevTools computed style)
3. Verify keyboard shortcut (Cmd+O) hint uses JetBrains Mono
4. Verify commit message preview uses JetBrains Mono
5. Verify all other text uses Geist
  </verify>
  <done>All code/technical contexts use JetBrains Mono, all UI text uses Geist.</done>
</task>

</tasks>

<verification>
1. `npm run tauri dev` - app launches without font loading errors in console
2. Open DevTools, inspect body text - font-family shows "Geist Variable"
3. Inspect branch name in header - font-family shows "JetBrains Mono Variable"
4. No visible layout shift or flash of unstyled text on load
5. Build succeeds: `npm run build`
</verification>

<success_criteria>
- Typography system installed and configured
- Geist is the default sans-serif font (verified in DevTools)
- JetBrains Mono is used for monospace contexts (branch names, code, shortcuts)
- Fonts load smoothly without FOUT
</success_criteria>

<output>
After completion, create `.planning/phases/06.2-ux-ui-enhancements/06.2-01-SUMMARY.md`
</output>
