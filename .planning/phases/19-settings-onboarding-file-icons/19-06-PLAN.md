---
phase: 19-settings-onboarding-file-icons
plan: 06
type: execute
wave: 1
depends_on: []
files_modified:
  - src/assets/icons/file-types/image.svg
  - src/assets/icons/file-types/font.svg
  - src/assets/icons/file-types/archive.svg
  - src/assets/icons/file-types/env.svg
  - src/lib/file-icons.ts
autonomous: true

must_haves:
  truths:
    - "4 new SVG icons exist: image.svg (#cba6f7 mauve), font.svg (#fab387 peach), archive.svg (#f9e2af yellow), env.svg (#a6e3a1 green)"
    - "All SVGs follow 16x16 viewBox convention with Catppuccin Mocha colors"
    - "Image files (png, jpg, jpeg, gif, webp, bmp, ico, tiff, avif) resolve to ImageIcon"
    - "Font files (ttf, otf, woff, woff2, eot) resolve to FontIcon"
    - "Archive files (zip, tar, gz, bz2, xz, 7z, rar) resolve to ArchiveIcon"
    - ".env files resolve to EnvIcon instead of the previous generic FileIcon"
    - ".env.local, .env.production, .env.test, etc. resolve to EnvIcon via FILENAME_ICON_MAP"
    - "Additional config filenames (Makefile, tailwind.config.ts, go.mod, etc.) resolve to appropriate icons"
    - "FileTypeIcon component and getFileIcon function require no changes"
    - "Existing icon mappings are unchanged -- no regressions"
  artifacts:
    - path: "src/assets/icons/file-types/image.svg"
      provides: "Image file type icon in Catppuccin mauve"
    - path: "src/assets/icons/file-types/font.svg"
      provides: "Font file type icon in Catppuccin peach"
    - path: "src/assets/icons/file-types/archive.svg"
      provides: "Archive file type icon in Catppuccin yellow"
    - path: "src/assets/icons/file-types/env.svg"
      provides: "Environment file type icon in Catppuccin green"
    - path: "src/lib/file-icons.ts"
      provides: "Expanded file icon mappings with 4 new icons and 30+ new entries"
      exports: ["FILE_ICON_MAP", "FILENAME_ICON_MAP", "getFileIcon", "getFolderIcon"]
  key_links:
    - from: "src/lib/file-icons.ts"
      to: "src/assets/icons/file-types/*.svg"
      via: "imports SVG icons as React components via ?react suffix"
      pattern: "import.*from.*assets/icons/file-types/.*\\.svg\\?react"
---

<objective>
Expand the file icon system with 4 new Catppuccin-themed SVG icons (image, font, archive, env) and add mappings for image files, font files, archive files, .env files, and additional config filenames.

Purpose: This satisfies requirement ICON-01 -- "File tree displays distinct Catppuccin-themed icons for common file types." The existing system already covers 37 icon types. This plan adds coverage for image files (png, jpg, etc.), font files (ttf, woff, etc.), archive files (zip, tar, etc.), and .env files -- which currently all fall back to the generic FileIcon. No architectural changes needed -- just new SVGs and map entries.

Output: 4 new SVG files and expanded FILE_ICON_MAP/FILENAME_ICON_MAP in file-icons.ts. No changes to FileTypeIcon.tsx or getFileIcon() logic.
</objective>

<execution_context>
@/Users/phmatray/.claude/get-shit-done/workflows/execute-plan.md
@/Users/phmatray/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@src/lib/file-icons.ts
@src/components/icons/FileTypeIcon.tsx
@src/assets/icons/file-types/git.svg
@src/assets/icons/file-types/database.svg
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create 4 new SVG icon files</name>
  <files>src/assets/icons/file-types/image.svg, src/assets/icons/file-types/font.svg, src/assets/icons/file-types/archive.svg, src/assets/icons/file-types/env.svg</files>
  <action>
Create 4 new SVG files following the existing icon conventions:
- Dimensions: `width="16" height="16" viewBox="0 0 16 16"`
- Style: `fill="none"` with `stroke` for outlines
- Stroke properties: `stroke-linecap="round" stroke-linejoin="round"`
- Colors: Catppuccin Mocha hex values

**1. `src/assets/icons/file-types/image.svg`** (color: `#cba6f7` mauve)
Design: Rounded rectangle (picture frame) with a small circle (sun) and a landscape polyline (mountains).
```svg
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
	<g fill="none" stroke="#cba6f7" stroke-linecap="round" stroke-linejoin="round">
		<rect x="1.5" y="2.5" width="13" height="11" rx="1.5" />
		<circle cx="5" cy="6" r="1.25" />
		<path d="M14.5 10.5l-3.5-3.5-4 4-2-2-3.5 3.5" />
	</g>
</svg>
```

**2. `src/assets/icons/file-types/font.svg`** (color: `#fab387` peach)
Design: Large "T" letterform inside a faint rounded rectangle.
```svg
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
	<g fill="none" stroke="#fab387" stroke-linecap="round" stroke-linejoin="round">
		<path d="M3.5 3.5h9M8 3.5v9.5M5.5 13h5" />
		<path d="M2 15.5c-.7 0-1.5-.8-1.5-1.5V2c0-.7.8-1.5 1.5-1.5h12c.7 0 1.5.8 1.5 1.5v12c0 .7-.8 1.5-1.5 1.5z" opacity=".4" />
	</g>
</svg>
```

**3. `src/assets/icons/file-types/archive.svg`** (color: `#f9e2af` yellow)
Design: Document with folded corner and zipper pattern (horizontal dashes down center).
```svg
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
	<g fill="none" stroke="#f9e2af" stroke-linecap="round" stroke-linejoin="round">
		<path d="M13.5 6.5v6a2 2 0 01-2 2h-7a2 2 0 01-2-2v-9c0-1.1.9-2 2-2h4.01m-.01 0 5 5h-4a1 1 0 01-1-1z" />
		<path d="M7.25 8.5h1.5M7.25 10.5h1.5M7.25 12.5h1.5" />
	</g>
</svg>
```

**4. `src/assets/icons/file-types/env.svg`** (color: `#a6e3a1` green)
Design: Document icon with key-value pair lines and filled dot bullets.
```svg
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
	<g fill="none" stroke="#a6e3a1" stroke-linecap="round" stroke-linejoin="round">
		<path d="M13.5 6.5v6a2 2 0 01-2 2h-7a2 2 0 01-2-2v-9c0-1.1.9-2 2-2h4.01m-.01 0 5 5h-4a1 1 0 01-1-1z" />
		<path d="M5 9h2.5M5 11h4" />
		<circle cx="4" cy="9" r=".5" fill="#a6e3a1" />
		<circle cx="4" cy="11" r=".5" fill="#a6e3a1" />
	</g>
</svg>
```

Color rationale:
- Image (#cba6f7 mauve): Distinct from existing icons, visually appropriate for media
- Font (#fab387 peach): Warm tone for typography, matches license.svg color
- Archive (#f9e2af yellow): Matches database.svg color, caution/packaging metaphor
- Env (#a6e3a1 green): Environment/config, distinct and recognizable
  </action>
  <verify>
Verify all 4 SVG files exist and are valid XML. Check each uses correct Catppuccin color. Verify dimensions are 16x16.
  </verify>
  <done>
4 new SVG icons created: image.svg (mauve), font.svg (peach), archive.svg (yellow), env.svg (green). All follow existing conventions.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add imports and extension mappings to file-icons.ts</name>
  <files>src/lib/file-icons.ts</files>
  <action>
Update `src/lib/file-icons.ts` to import the 4 new SVG icons and add entries to FILE_ICON_MAP and FILENAME_ICON_MAP.

**Step 1: Add 4 new imports in alphabetical order among existing imports:**
- After `AstroIcon` import, add: `import ArchiveIcon from "../assets/icons/file-types/archive.svg?react";`
- After `CsvIcon` import, add: `import EnvIcon from "../assets/icons/file-types/env.svg?react";`
- After `FileIcon` import, add: `import FontIcon from "../assets/icons/file-types/font.svg?react";`
- After `HtmlIcon` import, add: `import ImageIcon from "../assets/icons/file-types/image.svg?react";`

**Step 2: Add extension entries to FILE_ICON_MAP.**

Replace the existing `env: FileIcon,` entry (line 143) with `env: EnvIcon,` and add new sections at the end of the map (before the closing `}`):

```typescript
  // Environment (override previous FileIcon mapping)
  env: EnvIcon,

  // Images
  png: ImageIcon,
  jpg: ImageIcon,
  jpeg: ImageIcon,
  gif: ImageIcon,
  webp: ImageIcon,
  bmp: ImageIcon,
  ico: ImageIcon,
  tiff: ImageIcon,
  avif: ImageIcon,

  // Fonts
  ttf: FontIcon,
  otf: FontIcon,
  woff: FontIcon,
  woff2: FontIcon,
  eot: FontIcon,

  // Archives
  zip: ArchiveIcon,
  tar: ArchiveIcon,
  gz: ArchiveIcon,
  bz2: ArchiveIcon,
  xz: ArchiveIcon,
  "7z": ArchiveIcon,
  rar: ArchiveIcon,
```

Note: The `"7z"` key needs quotes since it starts with a digit.

**Step 3: Add filename entries to FILENAME_ICON_MAP.**

Add these entries at the end of the map (before the closing `}`):

```typescript
  // Environment files
  ".env": EnvIcon,
  ".env.local": EnvIcon,
  ".env.development": EnvIcon,
  ".env.production": EnvIcon,
  ".env.test": EnvIcon,
  ".env.staging": EnvIcon,
  ".env.example": EnvIcon,

  // Additional config files (reuse existing icons)
  ".dockerignore": DockerIcon,
  ".editorconfig": JsonIcon,
  "tailwind.config.js": JavaScriptIcon,
  "tailwind.config.ts": TypeScriptIcon,
  "next.config.js": JavaScriptIcon,
  "next.config.mjs": JavaScriptIcon,
  "webpack.config.js": JavaScriptIcon,
  "rollup.config.js": JavaScriptIcon,
  "jest.config.js": JavaScriptIcon,
  "jest.config.ts": TypeScriptIcon,
  "vitest.config.ts": TypeScriptIcon,
  "playwright.config.ts": TypeScriptIcon,
  makefile: BashIcon,
  gemfile: RubyIcon,
  rakefile: RubyIcon,
  "requirements.txt": PythonIcon,
  "setup.py": PythonIcon,
  "pyproject.toml": PythonIcon,
  "go.mod": GoIcon,
  "go.sum": GoIcon,
```

These entries use existing imported icons -- no new SVG files needed for these filenames.
  </action>
  <verify>
1. Run `npx tsc --noEmit` and confirm no type errors (ignore pre-existing TS2440)
2. Verify `.png` files resolve to ImageIcon (not the default FileIcon)
3. Verify `.ttf` files resolve to FontIcon
4. Verify `.zip` files resolve to ArchiveIcon
5. Verify `.env` files resolve to EnvIcon
6. Verify `.env.local` resolves to EnvIcon via FILENAME_ICON_MAP
7. Verify `Makefile` resolves to BashIcon via FILENAME_ICON_MAP
8. Verify existing mappings are unchanged (e.g., `.ts` still resolves to TypeScriptIcon)
  </verify>
  <done>
file-icons.ts expanded with 4 new icon imports, 25+ new FILE_ICON_MAP entries (images, fonts, archives, env), and 20+ new FILENAME_ICON_MAP entries (env variants, config files). Existing mappings unchanged.
  </done>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit` passes (ignore pre-existing TS2440 in bindings.ts)
2. 4 new SVG files exist in src/assets/icons/file-types/
3. SVGs follow 16x16 viewBox convention with Catppuccin colors
4. .png, .jpg, .jpeg, .gif, .webp, .bmp, .ico, .tiff, .avif resolve to ImageIcon
5. .ttf, .otf, .woff, .woff2, .eot resolve to FontIcon
6. .zip, .tar, .gz, .bz2, .7z, .rar resolve to ArchiveIcon
7. .env resolves to EnvIcon (not the previous generic FileIcon)
8. .env.local, .env.production, etc. resolve to EnvIcon via FILENAME_ICON_MAP
9. .dockerignore resolves to DockerIcon
10. Makefile resolves to BashIcon
11. tailwind.config.ts resolves to TypeScriptIcon
12. go.mod resolves to GoIcon
13. Existing icon mappings unchanged -- no regressions
14. FileTypeIcon component requires no changes
</verification>

<success_criteria>
- 4 new Catppuccin-themed SVG icons for image, font, archive, and env file types
- Image/font/archive/env files show dedicated icons instead of generic FileIcon
- Additional config filename mappings for common tools and frameworks
- No regressions to existing icon mappings
</success_criteria>

<output>
After completion, create `.planning/phases/19-settings-onboarding-file-icons/19-06-SUMMARY.md`
</output>
