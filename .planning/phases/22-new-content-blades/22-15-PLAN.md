---
phase: 22-new-content-blades
plan: 15
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/Header.tsx
  - src/components/gitflow/GitflowPanel.tsx
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Gitflow cheatsheet blade is accessible from the UI"
    - "User can open the cheatsheet from both the header and the Gitflow sidebar panel"
  artifacts:
    - path: "src/components/Header.tsx"
      provides: "Header with Gitflow cheatsheet button"
      exports: ["Header"]
    - path: "src/components/gitflow/GitflowPanel.tsx"
      provides: "GitflowPanel with cheatsheet link"
      exports: ["GitflowPanel"]
  key_links:
    - from: "Header Gitflow button"
      to: "useBladeNavigation.openBlade"
      via: "onClick handler"
      pattern: "openBlade\\(.*gitflow-cheatsheet"
    - from: "GitflowPanel link"
      to: "useBladeNavigation.openBlade"
      via: "onClick handler"
      pattern: "openBlade\\(.*gitflow-cheatsheet"
---

<objective>
Add entry points to open Gitflow cheatsheet blade

Purpose: Resolve UAT Test 30 (major blocker) and unblock Tests 31-39 — the gitflow-cheatsheet blade is fully implemented and registered but has zero entry points; users cannot access it from anywhere in the UI
Output: Header.tsx and GitflowPanel.tsx with buttons/links to open the blade
</objective>

<execution_context>
@/Users/phmatray/.claude/get-shit-done/workflows/execute-plan.md
@/Users/phmatray/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/debug/gitflow-cheatsheet-no-entry-point.md
@src/components/Header.tsx
@src/components/gitflow/GitflowPanel.tsx
@src/components/blades/GitflowCheatsheetBlade.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add Gitflow cheatsheet button to Header</name>
  <files>src/components/Header.tsx</files>
  <action>
Add a header button for the gitflow-cheatsheet blade, following the existing pattern for Settings, Browse Files, and Changelog buttons.

Find the header toolbar button group (likely around the existing `openBlade('settings')`, `openBlade('repo-browser')`, and `openBlade('changelog')` buttons). Add a new button:

```tsx
<button
  onClick={() => openBlade('gitflow-cheatsheet')}
  className="p-1.5 rounded hover:bg-ctp-surface0 transition-colors"
  title="Gitflow Guide"
  aria-label="Open Gitflow guide"
>
  <GitBranch className="w-5 h-5" />
</button>
```

Import `GitBranch` from lucide-react (consistent with existing icon usage). Position the button logically near other documentation/reference buttons (likely near Changelog button, as both are reference materials).

Ensure `openBlade` is available from `useBladeNavigation()` hook (should already be imported and used for other buttons).
  </action>
  <verify>
Click the new Gitflow button in the header → gitflow-cheatsheet blade should open
  </verify>
  <done>
Header contains a Gitflow guide button; clicking it opens the gitflow-cheatsheet blade; button follows existing Header design patterns
  </done>
</task>

<task type="auto">
  <name>Task 2: Add cheatsheet link to GitflowPanel sidebar</name>
  <files>src/components/gitflow/GitflowPanel.tsx</files>
  <action>
Add a link to the gitflow-cheatsheet blade in the GitflowPanel sidebar section.

Find the Gitflow section content (likely contains Start/Finish flow buttons). Add a link at a logical position (top of the section for quick reference, or bottom as a "Learn more" type link):

```tsx
<button
  onClick={() => openBlade('gitflow-cheatsheet')}
  className="flex items-center gap-2 w-full px-3 py-2 rounded text-sm hover:bg-ctp-surface0 transition-colors text-ctp-text"
>
  <BookOpen className="w-4 h-4" />
  <span>Gitflow Guide</span>
</button>
```

Import `BookOpen` from lucide-react and ensure `useBladeNavigation` hook is imported/called to get `openBlade`.

If GitflowPanel doesn't currently use `useBladeNavigation`, add:
```tsx
import { useBladeNavigation } from '@/hooks/useBladeNavigation';
// Inside component:
const { openBlade } = useBladeNavigation();
```

This provides a contextual entry point: users browsing Gitflow features in the sidebar can immediately access the reference guide.
  </action>
  <verify>
Open a repository → locate Gitflow section in sidebar → click the Gitflow Guide link → gitflow-cheatsheet blade should open
  </verify>
  <done>
GitflowPanel sidebar contains a Gitflow Guide link; clicking it opens the gitflow-cheatsheet blade; link follows existing sidebar design patterns
  </done>
</task>

</tasks>

<verification>
Test both entry points: Click Header Gitflow button → blade opens; click GitflowPanel sidebar link → blade opens. Verify blade shows SVG diagram, branch reference cards, and "You are here" indicator.
</verification>

<success_criteria>
- UAT Test 30 passes: Gitflow cheatsheet is accessible from the UI
- UAT Tests 31-39 unblocked: SVG diagram, lane highlight, "You are here" indicator, branch cards, and action cards all testable
- Two entry points available: Header button and GitflowPanel sidebar link
- No regressions in Header or GitflowPanel functionality
</success_criteria>

<output>
After completion, create `.planning/phases/22-new-content-blades/22-15-SUMMARY.md`
</output>
